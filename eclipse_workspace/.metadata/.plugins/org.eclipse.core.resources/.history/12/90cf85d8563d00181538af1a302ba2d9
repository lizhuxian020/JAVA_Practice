package com.pingan.register;

import java.util.HashSet;
import java.util.Scanner;

class User {
	private String id;
	private String password;
	
	public String id() {
		return this.id;
	}
	
	public void setId(String id) {
		this.id = id;
	}
	
	public String password() {
		return this.password;
	}
	
	public void setPassword(String password) {
		this.password = password;
	}
	
	public User() {
		super();
	}
	
	public User(String id, String password) {
		super();
		this.id = id;
		this.password = password;
	}
	
	@Override
	public int hashCode() {
		// TODO Auto-generated method stub
		return super.hashCode();
	}
	
	
}


public class test {
	
	private static final HashSet<Object> dataSet = new HashSet<>();
	
	private static final Scanner scanner = new Scanner(System.in);
	
	public static void main(String[] args) {
		
		while (true) {
			print("请输入指令: A(注册) B(登录)");
			String option = scanner.next();
			if ("a".equalsIgnoreCase(option)) {
				//新建用户
				User newUser = getNewUser();
				
				//查看数据库是否存在, 存在则提示已经存在, 不存在则插入并提示新建成功
				boolean result = dataSet.add(newUser);
				if (result) {
					print("register success");
				} else {
					print("this user is already exited");
				}
			} else if ("b".equalsIgnoreCase(option)) {
				System.out.println("用户选择了登录");
				//查看数据库中是否存在, 不存在提示用户密码错误, 存在提示登录成功.
				User newUser = getNewUser();
				
				boolean result = dataSet.contains(newUser);
				if (result) {
					print("login success");
				} else {
					print("userId or password is incorrect");
				}
				
			}
		}
		
		
	}
	
	private static void print(String content) {
		System.out.println(content);
	}
	
	private static User getNewUser() {
		print("请输入用户名");
		String userId = scanner.next();
		print("请输入密码");
		String pwd = scanner.next();
		//新建用户
		User newUser = new User(userId, pwd);
		return newUser;
	}
}
